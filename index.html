<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Jeu de Mines 5x5 - Confiance</title>
<style>
  body {
    background: #f0f8ff;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    color: #004080;
  }
  h1 {
    margin-bottom: 10px;
  }
  #minefield {
    display: grid;
    grid-template-columns: repeat(5, 60px);
    grid-template-rows: repeat(5, 60px);
    gap: 8px;
    margin-top: 15px;
  }
  .cell {
    background: #d9eaf7;
    border: 2px solid #004080;
    border-radius: 8px;
    cursor: pointer;
    font-size: 28px;
    color: #d32f2f;
    display: flex;
    justify-content: center;
    align-items: center;
    user-select: none;
    transition: background-color 0.3s ease;
  }
  .cell.revealed {
    background: #b3d9ff;
    cursor: default;
  }
  .cell.mine {
    color: #d32f2f;
  }
  #message {
    margin-top: 20px;
    font-weight: 600;
  }
  button {
    margin-top: 20px;
    background-color: #004080;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 8px;
    cursor: pointer;
  }
  button:hover {
    background-color: #003060;
  }
</style>
</head>
<body>

<h1>Jeu de Mines 5x5</h1>
<p>Cliquer sur une case. Évitez les mines !</p>

<div id="minefield"></div>
<div id="message"></div>
<button id="restartBtn">Recommencer</button>

<script>
  const size = 5;
  const minesCount = 5;
  let minefield = [];
  let revealedCount = 0;
  const minefieldEl = document.getElementById('minefield');
  const messageEl = document.getElementById('message');
  const restartBtn = document.getElementById('restartBtn');

  function init() {
    minefieldEl.innerHTML = '';
    messageEl.textContent = '';
    revealedCount = 0;
    minefield = createEmptyField(size);
    placeMines(minefield, minesCount);
    renderField();
  }

  function createEmptyField(size) {
    const field = [];
    for (let i = 0; i < size; i++) {
      field[i] = [];
      for (let j = 0; j < size; j++) {
        field[i][j] = { mine: false, revealed: false };
      }
    }
    return field;
  }

  function placeMines(field, count) {
    let placed = 0;
    while (placed < count) {
      const x = Math.floor(Math.random() * size);
      const y = Math.floor(Math.random() * size);
      if (!field[x][y].mine) {
        field[x][y].mine = true;
        placed++;
      }
    }
  }

  function renderField() {
    for (let i = 0; i < size; i++) {
      for (let j = 0; j < size; j++) {
        const cell = document.createElement('div');
        cell.classList.add('cell');
        cell.dataset.x = i;
        cell.dataset.y = j;
        cell.addEventListener('click', onCellClick);
        minefieldEl.appendChild(cell);
      }
    }
  }

  function onCellClick(e) {
    const x = +e.target.dataset.x;
    const y = +e.target.dataset.y;
    if (minefield[x][y].revealed) return;

    minefield[x][y].revealed = true;
    revealedCount++;
    e.target.classList.add('revealed');

    if (minefield[x][y].mine) {
      e.target.textContent = '💣';
      e.target.classList.add('mine');
      revealAllMines();
      messageEl.textContent = '💥 Vous avez touché une mine ! Perdu.';
      disableAllCells();
    } else {
      e.target.style.color = '#004080';
      e.target.textContent = '✔️';
      if (revealedCount === size * size - minesCount) {
        messageEl.textContent = '🎉 Félicitations ! Vous avez évité toutes les mines.';
        disableAllCells();
      }
    }
  }

  function revealAllMines() {
    const cells = minefieldEl.querySelectorAll('.cell');
    cells.forEach(cell => {
      const x = +cell.dataset.x;
      const y = +cell.dataset.y;
      if (minefield[x][y].mine && !minefield[x][y].revealed) {
        cell.textContent = '💣';
        cell.classList.add('mine', 'revealed');
      }
    });
  }

  function disableAllCells() {
    const cells = minefieldEl.querySelectorAll('.cell');

 
